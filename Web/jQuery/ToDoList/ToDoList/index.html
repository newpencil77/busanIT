<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="utf-8">
  <title>TO DO LIST</title>
  <!-- 메인 CSS -->
  <link rel="stylesheet" href="style.css">
  <!-- 폰트오썸 CDN -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.css">

</head>



<body>


  <div class="container">
    <input type="text" class="txtb" placeholder="할 일을 적어용">

    <div class="todo">
      <h3>해야 할 일</h3>
    </div>

    <div class="comp">
      <h3>완료된 일</h3>
    </div>
  </div>




  <!-- 인풋에 입력하면 해야할 일로 등록 -->
  <!-- 체크시, 완료된 일로 이동, 휴지통 누르면 삭제-->







  <!-- 제이쿼리 CDN -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

  <script>
    // 추가할 div 태그들 정의 const는 상수. 변하지 않음
    const task = "<div class='task'></div>";
    const del = "<i class='fas fa-trash-alt'></i>";
    const check = "<i class='fas fa-check'></i>";

    //키 입력시
    $(".txtb").on("keyup", function (e) {

      let code = e.which; //키

      if (code == 13) {
        $('.todo').append(task);
        $('.task').text(e.target.value);
        $('.task').append(del, check);
        $('i:first').addClass('del');
        $('i:nth-child(2)').addClass('check');

        $('.txtb').val("");

        // 왜 text 앞에서 append를 하면 del,과 check가 안 들어가지?
      }
    });


    $(".todo, .comp").mouseover(checking)
    // function(e){
    //   // console.log(e.currentTarget.className);

    //   if(e.currentTarget.className=='todo')
    //   {

    //     console.log(e.currentTarget.className);

    //   }



    // });



    function checking() 
    {
      $('.del').click(function (e) {
        console.log(e.currentTarget.className)
        $('.del').parent().remove();
      });

      let loc;

      // 잘못됐음ㅋㅋ
      $('.check').click(function (e) {
        if (e.currentTarget.className == 'comp') {
          loc = $('.todo')
        }
        else {
          loc = $('.comp');
        }
        let content = $(this).parent()
        content.remove();
        loc.append(content)
      });
    }


    // function del()
    // {

    //   $('.del').click(function (e) {
    //       console.log(e.currentTarget.className)
    //       $('.del').parent().remove();          
    //       });

    //   $('.check').click(function(e){
    //     // console.log(e.currentTarget.className)

    //     // console.log($(this).parent())

    //     if($(this).parent().prop('className')== 'task')
    //     {
    //       // 완료된 일로 이동
    //       let content= $(this).parent()
    //       content.remove();
    //       $('.comp').append(content)
    //       // console.log(e.currentTarget.className)
    //     }
    //     else if($(this).parent().prop('className')== 'comp')

    //     {
    //       let content= $(this).parent()
    //       content.remove();
    //       $('.check').append(content);
    //     }

    //   });
    // }




    // 현재 del클래스는 없음. if문 안에서 생겨나는 클래스임.
    // 그래서 밖에 따로 두면 해당 이벤트가 선언?이 안 된게 됨.

    //  클릭 이벤트 : 해야할일이나 완료된일을 클릭시
    // $('.del').on('click', function (e) {
    //   console.log(e.currentTarget.className)
    // });

    // $(".todo, .comp").mouseenter(check);

      // console.log(e.currentTarget.className);






  </script>

</body>

</html>